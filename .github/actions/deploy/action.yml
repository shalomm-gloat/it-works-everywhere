name: 'Deploy Application'
description: 'Deploy application to specified environment'

inputs:
  environment:
    description: 'Environment to deploy to'
    required: true
    default: 'development'

runs:
  using: 'composite'
  steps:
    - name: Deploy
      shell: bash
      run: |
        ENV="${{ inputs.environment }}"
        
        echo "ðŸš€ Deploying to $ENV..."
        echo "âœ… $ENV deployment completed"
        
        if [ "$ENV" = "production" ]; then
          echo "ðŸŒ Production URL: https://myprod.getthemilkshake.com"
        elif [ "$ENV" = "staging" ]; then
          echo "ðŸŒ Staging URL: https://mystaging.getthemilkshake.com"
        else
          echo "ðŸŒ Development URL: https://mydev.getthemilkshake.com"
        fi

    - name: Deploy summary
      shell: bash
      run: |
        ENV="${{ inputs.environment }}"
        
        echo "## ðŸš€ ${ENV^} Deployment Complete" >> $GITHUB_STEP_SUMMARY
        echo "- **Environment**: ${ENV^}" >> $GITHUB_STEP_SUMMARY
        echo "- **Branch**: ${{ github.ref_name }}" >> $GITHUB_STEP_SUMMARY
        echo "- **Status**: âœ… Success" >> $GITHUB_STEP_SUMMARY
